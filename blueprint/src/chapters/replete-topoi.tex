\chapter{Replete categories}

Let $\mathcal{C}$ be a category with limits. By
$\mathrm{Ab}(\mathcal{C})$ we denote its abelian group objects.

\begin{definition}[{\cite[Definition 3.1.1]{proetale}}]
    We say $\mathcal{C}$ is \emph{replete} if epimorphisms are stable under sequential limits, i.e.,
    if $(F_n)_{n \in \N}$ is an inverse system in $\mathcal{C}$ such that
    $F_{n+1} \to F_n$ is an epimorphism for all $n \in \N$, then $\mathrm{lim}\; F_n \to F_n$ is
    an epimorphism for all $n \in \N$.
    \label{def:replete}
\end{definition}

The following examples are all not needed later, but are useful to gain some intuition for
\ref{def:replete}. The motivating example is:

\begin{example}[{\cite[Example 3.1.4]{proetale}}]
    The category of sets is replete.
    \label{ex:replete-sets}
\end{example}

The category of Ã©tale sheaves is rarely replete as the following example shows.

\begin{example}[{\cite[Example 3.1.5]{proetale}}]
    Let $k$ be a field and $\bar k$ a separable closure of $k$. Then $\shv{\et{\spec{k}}}$ is replete
    if and only if $\bar k$ is a finite extension of $k$.
    \label{ex:replete-etale-site}
\end{example}

\begin{example}[{\cite[Example 3.1.7]{proetale}}]
    The category of fpqc sheaves, i.e., sheaves on the big fpqc site, is replete.
    \label{ex:replete-fpqc-site}
\end{example}

\begin{lemma}[{\cite[Lemma 3.1.8]{proetale}}]
    Let $\mathcal{C}$ be replete and let $(F_n)_{n \in \N} \to (G_n)_{n \in \N}$ be a morphism
    of inverse systems in $\mathcal{C}$. If
    $F_n \to G_n$ and $F_{n+1} \to F_{n} \times_{G_n} G_{n+1}$ are epimorphisms for each $n \in \N$, then
    $\lim F_n \to \lim G_n$ is an epimorphism.
    \uses{def:replete}
    \label{lemma:replete-lim-lim-epi}
\end{lemma}

\begin{proposition}[{\cite[Proposition 3.1.9]{proetale}}]
    If $\mathcal{C}$ is replete, countable products are exact.
    \uses{lemma:replete-lim-lim-epi}
    \label{prop:replete-products-exact}
\end{proposition}

\begin{proposition}[{\cite[Proposition 3.1.10]{proetale}}]
    Let $\mathcal{C}$ be replete.
    If $(F_n)_{n \in \N}$ is an inverse system in $\mathrm{Ab}(\mathcal{C})$ with
    epimorphic transition maps, then $\mathrm{lim} \; F_n \cong \mathrm{R}\; \mathrm{lim} \; F_n$.
    % TODO: make this more precise
    \uses{prop:replete-products-exact, lemma:replete-lim-lim-epi}
    \label{prop:lim-exact-replete}
\end{proposition}

\section{Coherent objects}

\begin{definition}[\cite{nlab:coherent_object}]
    An object $X$ of $\mathcal{C}$ is \emph{compact} if the top element of the poset
    of subobjects of $X$ is a \emph{compact element}.
    \label{def:compact-object}
\end{definition}

\begin{definition}[\cite{nlab:coherent_object}]
    An object $X$ of $\mathcal{C}$ is \emph{stable} if for all compact $Y$ and morphisms $Y \to X$,
    the fiber product $Y \times_{X} Y$ is compact.
    \label{def:stable-object}
\end{definition}

\begin{definition}[\cite{nlab:coherent_object}]
    An object $X$ of $\mathcal{C}$ is \emph{coherent} if it is compact and stable.
    \uses{def:stable-object, def:compact-object}
    \label{def:coherent-object}
\end{definition}

\section{Weakly contractible categories}

From now on, we assume that pullbacks in $\mathcal{C}$ preserve epimorphisms. For example
this holds in abelian categories and (pre)topoi.

\begin{definition}[{\cite[Definition 3.2.1]{proetale}}]
    An object $F$ of $\mathcal{C}$ is called \emph{weakly contractible} if every epimorphism
    $G \to F$ has a section. We say $\mathcal{C}$ has \emph{enough weakly contractible objects},
    if every object admits an epimorphism from a weakly contractible one.
    \label{def:weakly-contractible}
    \lean{CategoryTheory.WeaklyContractible}
    \leanok
\end{definition}

\begin{remark}
    Under our assumptions on $\mathcal{C}$, an object $F$ is weakly contractible if and only
    if it is projective.
    \lean{CategoryTheory.Projective.iff_forall_isSplitEpi_of_hasPullbacks}
    \leanok
\end{remark}

\begin{definition}[{\cite[Definition 3.2.1]{proetale}}]
    We say $\mathcal{C}$ is \emph{locally weakly contractible},
    if each $X$ in $\mathcal{C}$ admits an epimorphism from the coproduct of $Y_i$,
    where $Y_i$ is coherent and weakly contractible.
    \uses{def:coherent-object}
    \label{def:lwc}
\end{definition}

\begin{remark}
    If $\mathcal{C}$ is locally weakly contractible, it has enough contractible objects. Indeed,
    the coproduct of projective objects is projective.
\end{remark}

\begin{example}
    The category of sets is locally weakly contractible.
\end{example}

\begin{lemma}
    Let $\mathcal{C}$ have enough weakly contractible objects and $F \to G$ be a morphism.
    Then $F \to G$ is an epimorphism if and only if for every
    weakly contractible $Y$ in $\mathcal{C}$, the induced map
    $F(Y) = \mathrm{Hom}(Y, F) \to \mathrm{Hom}(Y, G) = G(Y)$ is
    surjective.
    \uses{def:weakly-contractible}
    \label{lemma:wc-epi-criterion}
    \lean{CategoryTheory.EnoughProjectives.epi_iff_forall_projective}
    \leanok
\end{lemma}

\begin{proof}
    Choose an epimorphism $e \colon P \to G$ where $P$ is weakly contractible
    and lift that to $P \to F$.
    \leanok
\end{proof}

\begin{proposition}
    If $\mathcal{C}$ has enough weakly contractible objects, it is replete.
    \uses{def:weakly-contractible, def:replete}
    \label{prop:wc-replete}
\end{proposition}

\begin{proof}
    This follows from \ref{lemma:wc-epi-criterion}, the fact that $\mathrm{Hom}(Y, -)$ commutes with
    limits and the corresponding statement in the category of sets.
    \uses{lemma:wc-epi-criterion}
\end{proof}
